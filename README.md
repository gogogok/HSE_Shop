<h1>Инструкция по работе с HSE_Shop (Web UI) (и ниже Swagger)</h1>

Адрес: http://localhost:8083/
(это FrontendService, работающий через Gateway)

<h2>Общая структура страницы</h2>

После открытия страницы видно 3 основные зоны:

1) Верхняя панель

HSE_Shop - название приложения

Пользователь - поле с userId (например: 5)

Gateway - адрес backend (http://localhost:8080)

*userId обязателен для всех действий*

2) Блок "Платежи" (левая верхняя часть)

Работа с аккаунтом пользователя и балансом

*Создать аккаунт*

**!!Убедитесь, что в поле Пользователь введён userId!!**

Нажмите кнопку "Создать аккаунт"

Результат:

Справа появляется «Аккаунт: существует»

Внизу (в "Вывод") появляется JSON-ответ API

Если аккаунт уже был, UI это корректно обрабатывает

*Показать баланс*

Нажмите "Показать баланс"

Результат:

Отображается строка Баланс: N

JSON с балансом появляется в блоке "Вывод"

*Пополнить баланс*

В поле Сумма пополнения введите число (например 100)

Нажмите "Пополнить"

Результат:

Баланс обновляется

В "Вывод" приходит ответ от PaymentsService

3)Блок "Заказы" (правая верхняя часть)

Здесь создаются заказы и отслеживается оплата

*Создать заказ*

В поле Сумма заказа введите число (например 300)

Описание необязательно

Нажмите "Создать заказ"

Возможные состояния:

Оплата в обработке

Оплата успешно 

Оплата отклонена 

Под кнопкой отображается последний заказ: <orderId>

4) Блок "Список заказов" (центр страницы)
*Посмотреть список заказов*

Нажмите кнопку "Список заказов"

 Результат:

Таблица с колонками:

OrderId

Пользователь

Сумма

Статус (Paid, Rejected, PaymentRequested)

Ошибка (если есть)


5) Блок "Вывод" (нижняя часть страницы)

Показывает сырые JSON-ответы API

*Кнопки*

Копировать - копирует JSON в буфер

Очистить - очищает поле вывода

Каждый новый запрос перезаписывает вывод


<h1>Немного про Swagger (Web UI)</h1>

http://localhost:8080/swagger/index.html?urls.primaryName=Gateway -  открывается Gateway

В правом верхнем углу есть "Select a definition"

Там можно выбрать, работу какого из сервисов проверить

Я оставила в БД данные, чтобы можно было посмотреть на уже текущие

**Внимание** 
Аккаунты 1, 2, 3, 5 уже существуют, так что создавайте аккаунты с другими юзерами, если нужно создать прямо с нуля аккаунт

**Немного про endpoints**

*GatewayService*

GET / - проверка, жив ли сервис

*OrdersService*

POST /orders - создание заказа

GET /orders - просмотр заказов пользователя

GET /orders{userId} - получение статуса оплаты заказа по Id

GET /orders/health - проверка, жив ли сервис

*PaymentsService*

POST /accounts - создание аккаунта

GET /accounts/exists - проверка, существует ли аккаунт

POST /accounts/topup - пополнение счёта

GET /accounts/balance - проверка баланса счёта

GET /health - проверка, жив ли сервис

**Спасибо за внимание!**
